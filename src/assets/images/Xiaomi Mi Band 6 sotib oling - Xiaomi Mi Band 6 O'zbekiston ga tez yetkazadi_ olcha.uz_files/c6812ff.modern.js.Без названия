(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{1042:function(e,t,r){"use strict";r.r(t);var n=r(7),o=r(1);r(19),r(27);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l={name:"LoginForm",props:{type:r(141).a.string},data:()=>({prefix:"+998",phone:"",password:"",isFetching:!1,serverError:{show:!1,message:"aid170"}}),watch:{"$route.path":{deep:!0,handler(){this.close()}}},methods:{login(){var e=this;return this.$refs["vee-observer"].validate().then(function(){var t=Object(o.a)((function*(t){if(t){var data={username:"998"+e.phone.toLocaleString().replace(/-| /g,""),password:e.password};return e.isFetching=!0,yield e.$auth2(e.$route).loginWith("laravelPassport",{data:d({},data)}).then((()=>{e.serverError.show=!1,e.isFetching=!1,e.close()})).catch(function(){var t=Object(o.a)((function*(t){var r,n;if(e.isFetching=!1,"invalid_credentials"===(null===(r=t.data)||void 0===r?void 0:r.error))e.serverError.message="aid170";else{if(null!==(n=t.data.message)&&void 0!==n&&n.includes("Unauthenticated"))return yield e.$auth.fetchUser().then((()=>{e.serverError.show=!1,e.isFetching=!1,e.close()})).catch((t=>{e.serverError.message=t.data.message,e.serverError.show=!0,e.isFetching=!1}));e.serverError.message=t.data.message}e.serverError.show=!0}));return function(e){return t.apply(this,arguments)}}())}}));return function(e){return t.apply(this,arguments)}}())},signUp(){"modal"===this.type?(this.$emit("on:sign-up"),this.close()):"page"===this.type&&this.$router.push(this.localeLocation({name:"sign-up"}))},close(){this.$emit("on:close",!1)}}},v=r(9),component=Object(v.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("client-only",[n("div",{staticClass:"bg-white rounded-3xl px-10 relative py-7"},[n("validation-observer",{ref:"vee-observer",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.fields,c=t.errors,d=t.valid;return[n("div",{staticClass:"grid grid-cols-1 gap-y-4"},[n("h2",{staticClass:"text-3xl text-black leading-9"},[e._v("\n          "+e._s(e.$t("aid66"))+"\n        ")]),e._v(" "),e.serverError.show?n("p",{staticClass:"block text-base text-dc-red-1 font-medium"},[e._v("\n          "+e._s(e.$t(e.serverError.message))+"\n        ")]):e._e(),e._v(" "),n("form",{staticClass:"grid grid-cols-1 gap-y-4 text-left",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("div",{staticClass:"grid grid-cols-1 gap-y-4 text-left"},[n("span",{staticClass:"text-base text-left text-dc-gray-2 font-medium",class:o.phone&&o.phone.valid?"":"text-dc-red-1"},[e._v("\n              "+e._s(e.$t("id1503"))+"\n            ")]),e._v(" "),n("div",{staticClass:"px-4 flex items-center divide-x-2 divide-dc-gray-5 rounded-4xl border-2 border-dc-gray-8",class:o.phone&&o.phone.valid?"":"divide-dc-red-1 border-dc-red-1"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.prefix,expression:"prefix"}],staticClass:" focus:outline-none py-4 bg-transparent mr-2",staticStyle:{width:"73px"},attrs:{disabled:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.prefix=t.target.multiple?r:r[0]}}},[n("option",{attrs:{value:"+998"}},[e._v("\n                  "+e._s(e.prefix)+"\n                ")])]),e._v(" "),n("validation-provider",{attrs:{name:"phone",rules:"required|min:12",tag:"div"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"},{name:"mask",rawName:"v-mask",value:"## ### ## ##",expression:"'## ### ## ##'"}],staticClass:"focus:outline-none py-4 bg-transparent w-56 pl-4",attrs:{name:"phone",type:"tel",autocomplete:"off"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})])],1),e._v(" "),c.phone?n("span",{staticClass:"text-sm text-dc-red-1"},[e._v("\n              "+e._s(c.phone?c.phone[0]:"")+"\n            ")]):e._e()]),e._v(" "),n("div",{staticClass:"grid grid-cols-1 gap-y-4 text-left"},[n("span",{staticClass:"text-base text-left text-dc-gray-2 font-medium",class:o.password&&o.password.valid?"":"text-dc-red-1"},[e._v("\n              "+e._s(e.$t("id1504"))+"\n            ")]),e._v(" "),n("validation-provider",{staticClass:"p-4 rounded-4xl border-2 border-dc-gray-8",class:o.password&&o.password.valid?"":"divide-dc-red-1 border-dc-red-1",attrs:{name:"password",rules:"required|min:6",tag:"div"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"w-full focus:outline-none  bg-transparent",attrs:{type:"password",name:"password",autocomplete:"off"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),c.password?n("span",{staticClass:"text-sm text-dc-red-1"},[e._v("\n              "+e._s(c.password?c.password[0]:"")+"\n            ")]):e._e()],1),e._v(" "),n("div",{staticClass:"text-right"},[n("nuxt-link",{staticClass:"text-base text-dc-gray-2 font-medium",attrs:{to:e.localePath({name:"password-recover"})}},[e._v("\n              "+e._s(e.$t("aid67"))+"\n            ")])],1),e._v(" "),n("button",{staticClass:"disabled:opacity-70 disabled:cursor-not-allowed focus:outline-none cursor-pointer rounded-4xl text-base uppercase text-white p-3 bg-dc-red-1",attrs:{type:"submit",disabled:!d||e.isFetching}},[e.isFetching?n("span",{staticClass:"flex items-center justify-center"},[n("img",{staticClass:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",attrs:{src:r(475),alt:"spin-circle"}}),e._v(" "),n("span",[e._v("\n                "+e._s(e.$t("aid216"))+"\n              ")])]):n("span",[e._v("\n              "+e._s(e.$t("id1505"))+"\n            ")])])]),e._v(" "),n("button",{staticClass:"focus:outline-none rounded-4xl text-base uppercase text-black p-3 bg-white border border-dc-gray-8",on:{click:e.signUp}},[e._v("\n          "+e._s(e.$t("id1514"))+"\n        ")])])]}}])})],1)])}),[],!1,null,null,null);t.default=component.exports},475:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPGNpcmNsZSBjbGFzcz0ib3BhY2l0eS0yNSIgY3g9IjEyIiBjeT0iMTIiIHI9IjEwIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNCIgb3BhY2l0eT0iLjI1IiAvPgogIDxwYXRoIGNsYXNzPSJvcGFjaXR5LTc1IiBmaWxsPSIjZmZmZmZmIiBkPSJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3oiLz4KPC9zdmc+Cg=="}}]);